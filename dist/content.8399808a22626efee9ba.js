webpackJsonp([7],{1065:function(e,t,n){function r(e){return n(a(e))}function a(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./index.js":214};r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=1065},151:function(e,t,n){"use strict";function r(){return i.fetch.get("/contentExhibitionApi/index")}function a(e){var t=e.acId;return i.fetch.get("/contentExhibitionApi/articleList",{acId:t})}function o(e){var t=e.contentId;return i.fetch.get("/contentExhibitionApi/detailed",{contentId:t})}function l(e){var t=e.contentId;return i.fetch.get("/contentExhibitionApi/commentList",{contentId:t})}function u(e){var t=e.contentComment,n=e.contentId;return i.fetch.post("/contentExhibitionApi/saveComment",{contentId:n,contentComment:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.index=r,t.articleList=a,t.detailed=o,t.commentList=l,t.saveComment=u;var i=n(2)},171:function(e,t){},214:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1065),a=r.keys().filter(function(e){return"./index.js"!==e}),o=a.reduce(function(e,t){return e[t.match(/([^\/]+)\.js$/)[1]]=r(t),e},{});t.default=o,e.exports=t.default},466:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.history;return l.default.createElement(u.Router,{history:t},y)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),l=r(o),u=n(3),i=n(55),c=r(i),f=n(557),s=r(f),d=n(558),m=r(d),p=n(556),h=r(p),y=l.default.createElement(u.Route,{path:"/",component:c.default},l.default.createElement(u.IndexRoute,{component:s.default,title:"资讯"}),l.default.createElement(u.Route,{path:"/contentDetail/:id",component:m.default,title:"新闻详情"}),l.default.createElement(u.Route,{path:"/comments/:id",component:h.default,title:"评论详情"}));t.default=a,e.exports=t.default},555:function(e,t,n){"use strict";new(n(2).Startup)({allReducers:n(214),routes:n(466)}).run(function(){})},556:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(n(7),n(6)),i=r(u),c=(n(5),n(8)),f=r(c),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),m=r(d),p=n(3),h=n(151),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),v=n(4);n(171);var b=f.default.Item,E=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={commentList:[]},n}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;y.commentList({contentId:this.props.params.id}).then(function(t){1==t.result&&e.setState({commentList:t.data})})}},{key:"render",value:function(){var e=this.state.commentList;return m.default.createElement("div",{className:"fix-scroll hastitle"},m.default.createElement(f.default,null,e.map(function(e){return m.default.createElement(b,{key:e.commentid},m.default.createElement(i.default,{align:"top"},m.default.createElement(v.Img,{src:e.memberAvatar,style:{width:"1rem",height:"1rem"}}),m.default.createElement(i.default.Item,null,m.default.createElement("div",null,e.memberTruename),m.default.createElement("p",null,e.comment)),m.default.createElement("div",null,e.createTimeStr)))})))}}]),t}(d.Component);t.default=(0,p.withRouter)(E),e.exports=t.default},557:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(n(26),n(25)),i=r(u),c=(n(7),n(6)),f=r(c),s=(n(12),n(11)),d=r(s),m=(n(24),n(23)),p=r(m),h=(n(84),n(83)),y=r(h),v=(n(10),n(9)),b=r(v),E=(n(52),n(51)),g=r(E),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=n(0),O=r(w),j=n(3),C=n(151),x=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(C),I=n(4);n(171);var k=g.default.TabPane,L=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChangeTab=function(e){n.setState({activeKey:e}),x.articleList({acId:e}).then(function(e){var t=e.data;n.setState({conList:t.conList,advlist:t.advlist})})},n.gotoDetail=function(e){n.props.router.push("/contentDetail/"+e.id)},n.state={classList:[],advlist:[],conList:[],activeKey:null},n}return l(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this;b.default.loading(),x.index().then(function(t){b.default.hide();var n=t.data,r=n.classList,a=void 0;r.length>0&&(a=r[0]);var o=a.acId;e.setState({classList:r,activeKey:o}),e.onChangeTab(o)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.classList,r=t.advlist,a=t.activeKey,o=t.conList;if(!a)return null;var l=function(e){var t=e.url;return O.default.createElement("div",{style:{width:"2rem",height:"2rem",background:"url("+t+") no-repeat center center /  2rem 2rem",display:"inline-block"}})};return O.default.createElement("div",{className:"fix-scroll hastitle"},O.default.createElement(g.default,{activeKey:a,swipeable:!1,onChange:this.onChangeTab},n.map(function(t,n){return O.default.createElement(k,{tab:t.acName,key:t.acId},O.default.createElement(y.default,{autoplay:!0,style:{height:"2rem"}},r.map(function(e){return O.default.createElement(I.Img,{key:e.id,src:e.thumb,style:{width:"100%",height:"2rem"}})})),O.default.createElement("div",null,o&&o.map(function(t,n){return O.default.createElement(i.default,{key:n},O.default.createElement(p.default,null),O.default.createElement(f.default,{onClick:function(){return e.gotoDetail(t)},style:{height:"2.8rem",borderBottom:"1px solid #444"}},void 0==t.thumb||""==t.thumb?O.default.createElement(l,{url:"./assets/img/img_default.png"}):O.default.createElement(I.Img,{src:t.thumb,style:{width:"2rem",height:"2rem"}}),O.default.createElement(f.default.Item,null,O.default.createElement(f.default,{justify:"between"},O.default.createElement(d.default,{size:"small",inline:!0},t.catName),O.default.createElement("span",{style:{fontSize:".24rem"}},"发布时间: ",t.publishedStr.substr(0,10))),O.default.createElement("p",{className:"text-overflow-hidden"},t.title),O.default.createElement("div",{style:{height:"1.2rem",lineHeight:"0.4rem",color:"gray"}},t.digest))))})))})))}}]),t}(w.Component);t.default=(0,j.withRouter)(L),e.exports=t.default},558:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(n(12),n(11)),i=r(u),c=(n(37),n(36)),f=r(c),s=(n(7),n(6)),d=r(s),m=(n(10),n(9)),p=r(m),h=(n(5),n(8)),y=r(h),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=n(0),E=r(b),g=n(3),_=n(151),w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(_),O=n(4);n(171);var j=y.default.Item,C=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.refresh=function(){p.default.loading(),w.detailed({contentId:n.props.params.id}).then(function(e){if(p.default.hide(),1==e.result){var t=e.data;n.setState({contentEntity:t.contentEntity[0],commentList:t.commentList})}})},n.postContentChange=function(e){n.setState({postContent:e})},n.saveComment=function(){var e=n.state.postContent;if(""==e)return void p.default.info("请输入评论内容",1);n.setState({postContent:""}),w.saveComment({contentId:n.props.params.id,contentComment:e}).then(function(e){p.default.info(e.msg,1,function(){n.refresh()})})},n.renderHeader=function(e){return E.default.createElement(d.default,{justify:"between"},E.default.createElement("div",null,"评论(",e.commentNum,")"),E.default.createElement("div",{onClick:function(){n.props.router.push("/comments/"+n.props.params.id)}},"更多"))},n.state={contentEntity:null,commentList:[],postContent:""},n}return l(t,e),v(t,[{key:"componentDidMount",value:function(){this.refresh()}},{key:"render",value:function(){var e=this.state,t=e.contentEntity,n=e.commentList,r=e.postContent;return t?E.default.createElement("div",{className:"fix-scroll hastitle hasbottom"},E.default.createElement(d.default,{direction:"column",justify:"center"},E.default.createElement("div",{style:{textAlign:"center"}},E.default.createElement("h4",null,t.title)),E.default.createElement("div",{style:{color:"gray"}},"文章来源: ",t.source," 作者: ",t.author," 发布时间: ",t.publishedStr.substr(0,10)," "),E.default.createElement("div",{dangerouslySetInnerHTML:{__html:t.content}})),E.default.createElement(y.default,{renderHeader:this.renderHeader(t)},n&&n.map(function(e){return E.default.createElement(j,{key:e.commentid},E.default.createElement(d.default,{align:"top"},E.default.createElement(O.Img,{src:e.memberAvatar,style:{width:"1rem",height:"1rem"}}),E.default.createElement(d.default.Item,null,E.default.createElement("div",null,e.memberTruename),E.default.createElement("p",null,e.comment)),E.default.createElement("div",null,e.createTimeStr)))})),E.default.createElement("div",{className:"content-bottom"},E.default.createElement(d.default,{justify:"between",style:{background:"#fff",borderTop:"1px solid #000"}},E.default.createElement(d.default.Item,null,E.default.createElement(f.default,{style:{borderTop:"1px solid #000"},value:r,onChange:this.postContentChange,placeholder:"发表下你的评论"})),E.default.createElement(i.default,{type:"primary",onClick:this.saveComment,style:{border:0},className:"postings-bottom-btn",inline:!0},"发布")))):null}}]),t}(b.Component);t.default=(0,g.withRouter)(C),e.exports=t.default}},[555]);